{"ast":null,"code":"import\"./SignUp.css\";import{useForm}from\"react-hook-form\";import axios from\"axios\";import{useRef,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";function SignUp(){let[err,setErr]=useState(\"\");let navigate=useNavigate();let{register,handleSubmit,watch,formState:{errors}}=useForm();const password=watch(\"password\",\"\");const confirmPasswordRef=useRef();async function onSignUpFormSubmit(userObj){const confirmPwd=confirmPasswordRef.current.value;if(password!==confirmPwd){setErr(\"Passwords do not match\");return;}if(userObj.userType==='user'){const res=await axios.post(\"http://localhost:3000/user-api/auth/signup\",userObj);console.log(res);if(res.data.message===\"User Account created successfully\"){// navigate to sign in\nnavigate(\"/SignIn\");}else{setErr(res.data.message);}}else if(userObj.userType==='admin'){const res=await axios.post(\"http://localhost:3000/admin-api/auth/signup\",userObj);console.log(res);if(res.data.message===\"Admin Account created successfully\"){// navigate to sign in\nnavigate(\"/SignIn\");}else{setErr(res.data.message);}}}return/*#__PURE__*/_jsxs(_Fragment,{children:[err.length!==0&&/*#__PURE__*/_jsxs(\"p\",{style:{color:'#ff758f'},children:[\" \",err,\" \"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSignUpFormSubmit),children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"radio-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"user\",value:\"user\",...register(\"userType\",{required:\"Please select User or Admin\"})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"user\",children:\"User\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"admin\",value:\"admin\",...register(\"userType\")}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"admin\",children:\"Admin\"})]})]}),errors.userType&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:errors.userType.message}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",required:true,...register(\"email\")}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,...register(\"username\")}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,...register(\"password\")}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,ref:confirmPasswordRef}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]})]});}export default SignUp;","map":{"version":3,"names":["useForm","axios","useRef","useState","useNavigate","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","SignUp","err","setErr","navigate","register","handleSubmit","watch","formState","errors","password","confirmPasswordRef","onSignUpFormSubmit","userObj","confirmPwd","current","value","userType","res","post","console","log","data","message","children","length","style","color","onSubmit","className","type","id","required","htmlFor","ref"],"sources":["C:/Users/HP/Desktop/Srihastha/Projects/ArtsApp/Frontend/src/components/SignUp/SignUp.jsx"],"sourcesContent":["import \"./SignUp.css\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport axios from \"axios\";\r\nimport { useRef, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction SignUp() {\r\n  let [err, setErr] = useState(\"\");\r\n  let navigate = useNavigate();\r\n  let { register, handleSubmit, watch , formState: { errors },} = useForm();\r\n\r\n  const password = watch(\"password\", \"\");\r\n  const confirmPasswordRef =  useRef()\r\n\r\n  async function onSignUpFormSubmit(userObj) {\r\n    const confirmPwd = confirmPasswordRef.current.value;\r\n\r\n    if (password !== confirmPwd) {\r\n      setErr(\"Passwords do not match\");\r\n      return;\r\n    }\r\n    \r\n    if(userObj.userType ==='user'){\r\n    const res = await axios.post(\r\n      \"http://localhost:3000/user-api/auth/signup\",\r\n      userObj\r\n    );\r\n    console.log(res);\r\n    if (res.data.message === \"User Account created successfully\") {\r\n      // navigate to sign in\r\n      navigate(\"/SignIn\");\r\n    } else {\r\n      setErr(res.data.message);\r\n    }}\r\n    else if(userObj.userType ==='admin'){\r\n        const res = await axios.post(\r\n          \"http://localhost:3000/admin-api/auth/signup\",\r\n          userObj\r\n        );\r\n        console.log(res);\r\n        if (res.data.message === \"Admin Account created successfully\") {\r\n          // navigate to sign in\r\n          navigate(\"/SignIn\");\r\n        } else {\r\n          setErr(res.data.message);\r\n        }}\r\n  }\r\n  return (\r\n    <>\r\n      \r\n\r\n      {/* user register error message */}\r\n      {err.length !== 0 && <p style={{ color: '#ff758f' }} > {err} </p>}\r\n\r\n      <form onSubmit={handleSubmit(onSignUpFormSubmit)}>\r\n        <h3>Sign Up</h3>\r\n        {/* <input\r\n          type=\"radio\"\r\n          name=\"userType\"\r\n          value=\"user\"\r\n          id=\"user\"\r\n          required\r\n          {...register(\"userType\")}\r\n        />\r\n        <label htmlFor=\"User\">User</label>\r\n\r\n        <input\r\n          type=\"radio\"\r\n          name=\"userType\"\r\n          value=\"admin\"\r\n          id=\"admin\"\r\n          {...register(\"userType\")}\r\n        />\r\n        <label htmlFor=\"Admin\">Admin</label>\r\n        <br /> */}\r\n\r\n<div className=\"radio-group\">\r\n  <div className=\"radio-option\">\r\n    <input\r\n      type=\"radio\"\r\n      id=\"user\"\r\n      value=\"user\"\r\n      {...register(\"userType\", { required: \"Please select User or Admin\" })}\r\n      \r\n    />\r\n    <label htmlFor=\"user\">User</label>\r\n  </div>\r\n  <div className=\"radio-option\">\r\n    <input\r\n      type=\"radio\"\r\n      id=\"admin\"\r\n      value=\"admin\" \r\n      {...register(\"userType\")}\r\n    />\r\n    <label htmlFor=\"admin\">Admin</label>\r\n  </div>\r\n</div>\r\n{errors.userType && <span className=\"error\">{errors.userType.message}</span>}\r\n\r\n\r\n        <label htmlFor=\"Email\">Email</label>\r\n        <input type=\"email\" required {...register(\"email\")} />\r\n        <br />\r\n\r\n        <label htmlFor=\"Username\">Username</label>\r\n        <input type=\"text\" required {...register(\"username\")} />\r\n        <br />\r\n\r\n        <label>Password</label>\r\n        <input type=\"password\" required {...register(\"password\")} /> <br />\r\n\r\n        <label>Confirm Password</label>\r\n        <input type=\"password\" required ref={confirmPasswordRef} /> <br />\r\n\r\n        <button type=\"submit\">Login</button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SignUp;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}